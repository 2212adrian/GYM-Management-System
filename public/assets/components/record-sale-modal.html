<style>
  /* --- TOP SYSTEM INSTRUCTION --- */
  .system-instruction-banner {
    position: fixed;
    top: -50px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid #333;
    padding: 8px 25px;
    border-radius: 0 0 12px 12px;
    z-index: 200000;
    transition: top 0.4s ease;
    pointer-events: none;
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .system-instruction-banner.active {
    top: 0;
  }

  .instruction-pulse {
    width: 6px;
    height: 6px;
    background: var(--wolf-red);
    border-radius: 50%;
    animation: pulse 1.5s infinite;
  }
  .instruction-text {
    font-size: 9px;
    font-weight: 900;
    color: #888;
    letter-spacing: 2px;
  }
  /* --- SEARCH INPUT WRAPPER --- */
  /* When locked: hide the QR button, show the Unlock button */
  #searchWrapper.is-locked #qrScanTrigger {
    display: none !important;
  }

  #searchWrapper.is-locked #clearSearchBtn {
    display: flex !important;
    background: #1a1a1a;
    color: var(--wolf-red);
  }

  /* Make the input look disabled but readable when locked */
  #searchWrapper.is-locked #sale-product-search {
    color: #555 !important;
    cursor: not-allowed;
    background: rgba(0, 0, 0, 0.2);
  }

  /* Pulse animation for the Unlock button to show it's the active control */
  #clearSearchBtn i {
    animation: lockHint 2s infinite;
  }

  @keyframes lockHint {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }
  .search-input-wrapper {
    display: flex;
    align-items: center;
    background: linear-gradient(
      180deg,
      rgba(14, 16, 21, 0.96),
      rgba(9, 10, 13, 0.96)
    );
    border: 1px solid #2a2f3a;
    border-radius: 14px;
    overflow: hidden;
    transition: 0.3s ease;
  }

  .search-input-wrapper:focus-within {
    border-color: var(--wolf-red);
    box-shadow:
      0 0 0 2px rgba(var(--wolf-red-rgb), 0.18),
      0 10px 28px rgba(var(--wolf-red-rgb), 0.16);
  }

  .search-input-wrapper input {
    border: none !important;
    background: transparent !important;
    flex: 1;
  }

  .search-side-btn {
    background: #1a1a1a;
    border: none;
    color: #555;
    width: 45px;
    height: 45px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    cursor: pointer;
    transition: 0.3s;
  }

  .search-side-btn:hover {
    color: var(--wolf-red);
    background: #222;
  }
  .search-side-btn.right {
    background: #111;
    border-left: 1px solid #222;
  }
  .qty-stepper {
    display: grid;
    grid-template-columns: 44px minmax(0, 1fr) 44px;
    gap: 8px;
    align-items: center;
  }
  .qty-step-btn {
    width: 44px;
    height: 44px;
    border-radius: 12px;
    border: 1px solid #2d3340;
    background: linear-gradient(160deg, #171b24, #0f1219);
    color: #dbe5f9;
    font-size: 22px;
    font-weight: 900;
    cursor: pointer;
    transition: filter 0.2s ease, transform 0.2s ease, opacity 0.2s ease;
  }
  .qty-step-btn:hover:not(:disabled) {
    filter: brightness(1.08);
    transform: translateY(-1px);
  }
  .qty-step-btn:disabled {
    opacity: 0.45;
    cursor: not-allowed;
  }

  /* Locked State UI */
  .search-input-wrapper.is-locked {
    background: #050505;
    border-color: #333;
  }
  .search-input-wrapper.is-locked input {
    color: #444 !important;
    cursor: not-allowed;
  }

  /* --- TOTAL PAYABLE DESIGN --- */
  .total-summary-box {
    background:
      radial-gradient(circle at 15% 0%, rgba(var(--wolf-red-rgb), 0.16), transparent 45%),
      linear-gradient(160deg, #0f1014, #0a0c11);
    border: 1px solid #2a2f3c;
    border-radius: 20px;
    padding: 20px;
    margin: 20px 0;
    text-align: center;
    position: relative;
    overflow: hidden;
  }

  .total-header {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    font-size: 9px;
    font-weight: 900;
    color: #444;
    letter-spacing: 2px;
    margin-bottom: 10px;
  }

  .total-amount-wrap {
    color: var(--wolf-red);
    font-family: 'Courier New', Courier, monospace;
    font-weight: 900;
    display: flex;
    align-items: baseline;
    justify-content: center;
  }

  .total-amount-wrap .currency {
    font-size: 1.2rem;
    margin-right: 5px;
  }
  #sale-total-display {
    font-size: 2.4rem;
    font-style: italic;
    text-shadow: 0 0 20px rgba(var(--wolf-red-rgb), 0.4);
  }

  .total-glitch-line {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background: var(--wolf-red);
    opacity: 0.3;
  }

  /* --- TOP ALERT MODAL --- */
  .system-alert-top {
    position: fixed;
    top: -100px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--wolf-red);
    color: white;
    padding: 15px 40px;
    border-radius: 0 0 20px 20px;
    z-index: 200000;
    display: flex;
    align-items: center;
    gap: 15px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
    transition: top 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55);
  }
  .system-alert-top.show {
    top: 0;
  }
  .system-alert-top i {
    font-size: 24px;
  }
  .system-alert-top span {
    font-weight: 900;
    font-size: 11px;
    letter-spacing: 1px;
    text-transform: uppercase;
  }
  /* --- LANDSCAPE MODAL LAYOUT --- */
  .sales-landscape {
    display: flex;
    flex-direction: row;
    max-width: 850px !important; /* Wide for PC */
    padding: 0 !important;
    overflow: hidden;
    border: 1px solid #2b303d;
    background: #090b10;
  }

  .terminal-preview-pane {
    flex: 1;
    background:
      radial-gradient(circle at 0% 0%, rgba(var(--wolf-red-rgb), 0.14), transparent 48%),
      linear-gradient(170deg, #0f1116, #080a0f);
    padding: 40px;
    display: flex;
    flex-direction: column;
    border-right: 1px solid #2a2f3a;
    border-radius: 50px;
  }

  .terminal-entry-pane {
    position: relative;
    overflow: visible !important;
    flex: 1.2;
    padding: 40px;
    background:
      radial-gradient(circle at 100% 100%, rgba(66, 121, 255, 0.12), transparent 48%),
      linear-gradient(165deg, #101217, #090b10);
    border-radius: 50px;
  }

  /* --- IMAGE PREVIEW --- */
  .preview-image-wrapper {
    position: relative;
    width: 100%;
    aspect-ratio: 1/1;
    background: #111;
    border-radius: 20px;
    overflow: hidden;
    border: 1px solid #222;
    margin-bottom: 25px;
  }

  .preview-image-wrapper img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0.8;
  }

  .preview-overlay-tag {
    position: absolute;
    top: 15px;
    left: 15px;
    background: var(--wolf-red);
    color: #fff;
    font-size: 8px;
    font-weight: 900;
    padding: 4px 10px;
    border-radius: 4px;
    letter-spacing: 1px;
  }

  #asset-preview-desc {
    font-size: 12px;
    color: #555;
    line-height: 1.6;
    font-style: italic;
  }

  /* --- BORDERLESS METADATA DESIGN --- */
  .metadata-row {
    display: flex;
    align-items: center;
    background: linear-gradient(
      180deg,
      rgba(255, 255, 255, 0.03),
      rgba(255, 255, 255, 0.01)
    );
    border: 1px solid rgba(255, 255, 255, 0.08);
    padding: 20px;
    border-radius: 16px;
    margin-bottom: 20px;
  }

  .meta-item {
    flex: 1;
    text-align: center;
  }

  .meta-item label {
    display: block;
    font-size: 8px;
    font-weight: 900;
    color: #444;
    letter-spacing: 1.5px;
    margin-bottom: 5px;
  }

  .meta-value {
    font-family: 'Courier New', monospace;
    font-size: 1.4rem;
    font-weight: 900;
    color: #fff;
  }

  .meta-separator {
    width: 1px;
    height: 30px;
    background: #222;
    margin: 0 10px;
  }

  /* --- BUTTON STATE --- */
  .btn-terminal-commit:disabled {
    background: #222 !important;
    color: #444 !important;
    cursor: not-allowed;
    box-shadow: none;
    filter: grayscale(1);
  }

  /* --- MASTER MODAL OVERLAY --- */
  .master-modal-overlay {
    position: fixed;
    inset: 0;
    visibility: hidden;
    display: none;
    background: rgba(0, 0, 0, 0.96);
    backdrop-filter: blur(12px);
    justify-content: center;
    align-items: center;
    z-index: 100000;
    padding: 16px 12px;
    overflow-y: auto;
    opacity: 0;
    transition:
      opacity 0.3s ease,
      visibility 0.3s ease,
      transform 0.22s ease;
  }

  .master-modal-overlay.is-open {
    display: flex;
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
  }

  .master-modal-overlay.is-closing {
    opacity: 0;
    transform: translateY(24px);
  }

  #master-asset-id {
    font-weight: 700 !important;
    letter-spacing: 0.5px;
  }

  .master-terminal-container {
    background:
      radial-gradient(circle at 10% 0%, rgba(var(--wolf-red-rgb), 0.14), transparent 46%),
      radial-gradient(circle at 100% 100%, rgba(66, 121, 255, 0.12), transparent 48%),
      #0d1016;
    width: 100%;
    max-width: 480px;
    border-radius: 32px;
    padding: 35px;
    border: 1px solid #2a2f3a;
    box-shadow: 0 40px 80px rgba(0, 0, 0, 0.8);
    animation: terminalSlideIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    overflow: visible !important;
  }

  .master-terminal-container.modal-closing {
    opacity: 0;
    transform: translateY(18px) scale(0.98);
    filter: blur(6px);
    transition:
      opacity 0.22s ease,
      transform 0.22s ease,
      filter 0.22s ease;
  }

  /* Change fonts */
  .terminal-input,
  .id-wrapper input,
  .id-prefix,
  .terminal-input::placeholder {
    font-weight: 700 !important;
    letter-spacing: 0.5px;
    text-transform: uppercase; /* Makes all typed input look like system data */
  }
  /* Wide on PC, Skinny on Phone */
  @media (min-width: 768px) {
    /* PC */
    .master-terminal-container {
      max-width: 600px;
      border-radius: 50px;
    }
  }
  /* --- MOBILE RESPONSIVE PORTRAIT --- */
  @media (max-width: 767px) {
    /* Mobile */
    .stock-action-row {
      display: flex;
      align-items: center;
      gap: 10px;
      width: 100%; /* Ensures it fills the grid column */
    }
    .symbol-box {
      position: static;
      top: 327px;
    }
    .sales-landscape {
      flex-direction: column;
      max-width: 95% !important;
      max-height: 98vh; /* Fits almost entire screen */
      border-radius: 24px;
    }
    .sales-landscape {
      flex-direction: column;
      max-width: 380px !important;
      max-height: 90vh;
      overflow-y: auto;
    }
    .preview-image-wrapper {
      width: 120px;
      height: 120px;
      margin: 0 auto 15px;
    }
    #asset-preview-desc {
      text-align: center;
      font-size: 11px;
    }
    .terminal-entry-pane {
      padding: 25px;
    }
    .meta-value {
      font-size: 1.1rem;
    }

    /* 1. Shrink the Preview Pane significantly */
    .terminal-preview-pane {
      padding: 15px;
      flex-direction: row; /* Horizontal layout for mobile */
      align-items: center;
      gap: 15px;
      height: auto;
      border-right: none;
      border-radius: 24px 24px 0 0;
      border-bottom: 4px solid #222;
      background: #050505;
    }

    .preview-image-wrapper {
      width: 60px !important; /* Tiny thumbnail */
      height: 60px !important;
      margin: 0 !important;
      flex-shrink: 0;
    }

    .preview-details {
      text-align: left;
    }

    .preview-details .field-label {
      display: none; /* Hide label to save space */
    }

    #asset-preview-desc {
      font-size: 10px;
      margin: 0;
      display: -webkit-box;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    /* 2. Compact the Entry Pane */
    .terminal-entry-pane {
      padding: 20px;
      display: flex;
      border-radius: 50px;
      flex-direction: column;
      gap: 10px;
    }

    .terminal-header {
      margin-bottom: 10px;
    }

    .terminal-title {
      font-size: 1.1rem;
    }

    .terminal-section {
      margin-bottom: 8px !important;
    }

    /* 3. Slim down the Metadata & Summary */
    .metadata-row {
      background: rgba(255, 255, 255, 0.02);
      border-radius: 16px;
      padding: 20px;
      display: flex;
      justify-content: space-around;
    }

    .meta-value {
      font-size: 1rem;
    }

    .optional-protocol-box {
      padding: 10px;
      margin: 10px 0;
    }

    .summary-value {
      font-size: 1.2rem;
    }

    .btn-terminal-commit {
      padding: 14px; /* Slightly smaller button */
    }
    .preview-overlay-tag {
      display: none !important;
    }

    /* Additional polish for the tiny thumbnail since the tag is gone */
    .preview-image-wrapper {
      border-color: var(
        --wolf-red
      ); /* Subtle red border to indicate it's the active asset */
      width: 60px !important;
      height: 60px !important;
    }
  }
  @keyframes autoFillHint {
    0% {
      background: var(--wolf-red);
      color: white;
    }
    100% {
      background: #0a0a0a;
      color: white;
    }
  }

  /* Apply this via JS if you want a flash effect */
  .auto-filled {
    animation: autoFillHint 0.5s ease;
  }

  .terminal-protocol {
    font-size: 9px;
    color: #444;
    font-weight: 800;
    letter-spacing: 2px;
    text-transform: uppercase;
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 5px;
  }

  /* Status Indicator Dot */
  .terminal-protocol::before {
    content: '';
    width: 6px;
    height: 6px;
    background: var(--wolf-red);
    border-radius: 50%;
    display: inline-block;
    box-shadow: 0 0 8px var(--wolf-red);
    animation: protocolPulse 2s infinite ease-in-out;
  }

  @keyframes protocolPulse {
    0%,
    100% {
      opacity: 0.4;
      transform: scale(0.9);
    }
    50% {
      opacity: 1;
      transform: scale(1.1);
    }
  }

  .id-wrapper-group {
    display: flex;
    align-items: center;
    background: #0a0a0a !important;
    border: 1px solid #222 !important;
    border-radius: 14px;
    overflow: hidden;
    padding-right: 6px;
  }
  .id-wrapper-group input {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important; /* Removes Bootstrap blue glow */
    color: #fff !important;
    flex: 1;
    padding: 14px 10px !important;
    font-size: 13px;
    outline: none !important;
  }

  /* --- INPUTS NUKE --- */

  .terminal-input,
  .id-wrapper-group {
    width: 100%;
    background: rgba(12, 14, 19, 0.95) !important;
    border: 1px solid #2b303d !important;
    border-radius: 14px;
    transition: 0.3s ease;
    color: #fff !important;
  }

  .terminal-input {
    padding: 14px 18px;
    font-size: 13px;
    font-weight: 600;
    outline: none;
  }
  .static-area {
    resize: none;
    overflow-y: auto;
  }

  /* HOVER & FOCUS SYNC */
  .terminal-input:hover,
  .id-wrapper-group:hover {
    border-color: #444 !important;
  }
  .terminal-input:focus,
  .id-wrapper-group:focus-within {
    border-color: var(--wolf-red) !important;
    background: #000 !important;
    box-shadow: 0 0 15px rgba(var(--wolf-red-rgb), 0.15);
  }

  /* --- IDENTITY WRAPPER FIX --- */
  .id-wrapper {
    display: flex;
    align-items: center;
    overflow: hidden;
    padding-right: 6px;
  }

  .id-prefix {
    padding-left: 18px;
    color: var(--wolf-red);
    font-family: monospace;
    font-weight: 900;
    font-size: 14px;
  }

  .id-wrapper input {
    border: none !important;
    background: transparent !important; /* CRITICAL: Kills the white box */
    flex: 1;
    padding: 14px 10px !important;
    color: #fff !important;
    outline: none;
    font-size: 13px;
  }

  .terminal-icon-btn {
    background: #1a1a1a;
    border: none;
    color: #555;
    width: 34px;
    height: 34px;
    border-radius: 10px;
    cursor: pointer;
    transition: 0.3s;
  }
  .terminal-icon-btn:hover {
    color: var(--wolf-red);
    background: #222;
  }

  /* --- CLOSE BUTTON DESIGN --- */
  .terminal-close-btn {
    background: #1a1a1a;
    border: 1px solid #222;
    color: #555;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }
  .terminal-close-btn:hover {
    background: var(--wolf-red);
    color: #fff;
    transform: rotate(90deg);
    border-color: var(--wolf-red);
    box-shadow: 0 0 15px rgba(var(--wolf-red-rgb), 0.4);
  }

  /* --- GRID & STOCK ROW --- */
  .terminal-grid {
    display: grid;
    grid-template-columns: 1fr 1.8fr;
    gap: 15px;
  }
  .stock-input-wrapper {
    display: flex;
    align-items: center;
    gap: 12px;
  }

  /* --- CYBER CHECKBOX --- */
  .cyber-checkbox {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    user-select: none;
  }
  .cyber-checkbox input {
    display: none;
  }

  .check-mark {
    width: 18px;
    height: 18px;
    background: #0a0a0a;
    border: 1px solid #333;
    border-radius: 4px;
    position: relative;
    transition: 0.3s;
  }

  .cyber-checkbox input:checked + .check-mark {
    background: var(--wolf-red);
    border-color: var(--wolf-red);
  }

  /* --- UNLIMITED SYMBOL TOGGLE --- */
  .cyber-checkbox-symbol {
    cursor: pointer;
    user-select: none;
  }
  .cyber-checkbox-symbol input {
    display: none;
  }
  .symbol-box {
    width: 45px;
    height: 45px;
    background: #1a1a1a;
    border: 1px solid #222;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #333;
    font-size: 22px;
    transition: 0.3s;
  }
  .cyber-checkbox-symbol input:checked + .symbol-box {
    background: rgba(var(--wolf-red-rgb), 0.15);
    border-color: var(--wolf-red);
    color: var(--wolf-red);
    box-shadow: 0 0 15px rgba(var(--wolf-red-rgb), 0.2);
  }

  /* Check Symbol */
  .cyber-checkbox input:checked + .check-mark::after {
    content: '\eb7a'; /* Boxicons check mark code */
    font-family: 'boxicons';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #fff;
    font-size: 14px;
  }

  .check-text {
    font-size: 9px;
    font-weight: 900;
    color: #444;
    letter-spacing: 1px;
  }
  .cyber-checkbox input:checked ~ .check-text {
    color: var(--wolf-red);
  }

  /* --- NUMBER ARROWS --- */
  input[type='number'] {
    appearance: textfield;
    -moz-appearance: textfield;
  }
  input[type='number']::-webkit-inner-spin-button,
  input[type='number']::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  /* --- OPTIONAL BOX --- */
  .optional-protocol-box {
    background: rgba(255, 255, 255, 0.02);
    border: 1px dashed #222;
    border-radius: 20px;
    padding: 20px;
    margin: 25px 0;
  }
  .optional-tag {
    font-size: 8px;
    font-weight: 900;
    color: #333;
    text-align: center;
    margin-bottom: 15px;
    letter-spacing: 2px;
  }

  /* --- HEADER & COMMIT --- */
  .terminal-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 25px;
  }
  .terminal-title {
    font-weight: 900;
    font-size: 1.4rem;
    font-style: italic;
    color: #fff;
  }
  .terminal-title span {
    color: var(--wolf-red);
  }
  /* --- MISC --- */
  .field-label {
    font-size: 9px;
    font-weight: 900;
    color: #555;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    margin-bottom: 8px;
    display: block;
  }
  .btn-terminal-commit {
    width: 100%;
    background: linear-gradient(180deg, #bb4438, #952a22);
    color: #fff;
    border: none;
    padding: 18px;
    border-radius: 16px;
    font-weight: 900;
    font-style: italic;
    cursor: pointer;
    box-shadow: 0 10px 30px rgba(var(--wolf-red-rgb), 0.3);
    transition: 0.3s;
  }
  .btn-terminal-commit:hover {
    filter: brightness(1.05);
    transform: translateY(-2px);
    box-shadow: 0 14px 28px rgba(var(--wolf-red-rgb), 0.36);
  }
  .terminal-section .stock-action-row input {
    width: 85%;
  }

  @keyframes terminalSlideIn {
    from {
      opacity: 0;
      transform: translateY(30px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }
  /* --- CUSTOM SEARCH DROPDOWN --- */
  /* --- CUSTOM SEARCH DROPDOWN --- */
  .wolf-dropdown {
    position: absolute;
    top: 100%; /* Sits exactly below the input */
    left: 0;
    width: 100%;
    background: #050505;
    border: 1px solid #222;
    border-radius: 0 0 14px 14px; /* Rounded bottom corners */
    z-index: 5000; /* High z-index to stay on top */
    max-height: 200px;
    overflow-y: auto;
    display: none; /* Hidden by default */
  }

  /* Show when JS adds .active */
  .wolf-dropdown.active {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    z-index: 9999 !important;
  }
  .dropdown-item {
    padding: 12px 15px;
    cursor: pointer;
    border-bottom: 1px solid #111;
    display: flex;
    flex-direction: column;
  }

  .dropdown-item:hover {
    background: rgba(var(--wolf-red-rgb), 0.1); /* Subtle Wolf Red glow */
  }

  .dropdown-item .item-name {
    font-size: 13px;
    font-weight: 800;
    color: #fff;
  }

  .dropdown-item .item-sku {
    font-size: 9px;
    color: var(--wolf-red);
    font-weight: 900;
  }

  /* Scrollbar Styling */
  .wolf-dropdown::-webkit-scrollbar {
    width: 5px;
  }
  .wolf-dropdown::-webkit-scrollbar-track {
    background: #000;
  }
  .wolf-dropdown::-webkit-scrollbar-thumb {
    background: #222;
    border-radius: 10px;
  }

  @keyframes dropdownSlide {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>

<div id="sale-terminal-overlay" class="master-modal-overlay">
  <!-- SYSTEM ALERT INJECTED HERE DYNAMICALLY OR HARDCODED -->
  <div id="wolf-system-alert" class="system-alert-top">
    <i class="bx alert-icon"></i>
    <span class="alert-text"></span>
  </div>

  <div class="master-terminal-container sales-landscape">
    <!-- LEFT SIDE: ASSET PREVIEW -->
    <div class="terminal-preview-pane">
      <div class="preview-image-wrapper">
        <img
          id="asset-preview-img"
          src="/assets/images/placeholder.png"
          alt="Product Preview"
        />
        <div class="preview-overlay-tag">ASSET_PREVIEW</div>
      </div>
      <div class="preview-details">
        <label class="field-label">Registry Description</label>
        <p id="asset-preview-desc">
          SELECT AN ASSET TO LOAD TECHNICAL DATA PROTOCOL...
        </p>
      </div>
    </div>

    <!-- RIGHT SIDE: TRANSACTION ENTRY -->
    <div class="terminal-entry-pane">
      <div class="terminal-header">
        <div class="terminal-title-group">
          <h1 class="terminal-title">SALES <span>PROTOCOL</span></h1>
          <p class="terminal-protocol">STOCK_DECREMENT_LOG V2.0</p>
        </div>
        <button class="terminal-close-btn" id="closeSaleModal">
          <i class="bx bx-x"></i>
        </button>
      </div>

      <form id="record-sale-form" class="terminal-form">
        <!-- SEARCH GROUP WITH SCAN & CLEAR -->
        <div class="terminal-section">
          <label class="field-label">Search Registered Asset</label>
          <div
            class="search-input-wrapper"
            id="searchWrapper"
            style="position: relative; overflow: visible"
          >
            <button
              type="button"
              id="qrScanTrigger"
              class="search-side-btn left"
              title="Scan SKU"
            >
              <i class="bx bx-qr-scan"></i>
            </button>

            <input
              type="text"
              id="sale-product-search"
              class="terminal-input"
              placeholder="TYPE PRODUCT NAME..."
              autocomplete="off"
              required
            />

            <div id="custom-search-results" class="wolf-dropdown"></div>

            <button
              type="button"
              id="clearSearchBtn"
              class="search-side-btn right"
              style="display: none"
              title="Unlock Field"
            >
              <i class="bx bx-lock-open-alt"></i>
            </button>
          </div>
        </div>

        <div class="metadata-row">
          <div class="meta-item">
            <label>UNIT PRICE</label>
            <div class="meta-value" id="meta-price">â‚±0.00</div>
          </div>
          <div class="meta-separator"></div>
          <div class="meta-item">
            <label>AVAIL_STOCK</label>
            <div class="meta-value" id="meta-stock">--</div>
          </div>
        </div>

        <div class="terminal-section">
          <label class="field-label">Quantity to Authorize</label>
          <div class="qty-stepper">
            <button type="button" id="sale-qty-dec" class="qty-step-btn" aria-label="Decrease quantity">-</button>
            <input
              type="number"
              id="sale-qty"
              class="terminal-input"
              placeholder="0"
              min="1"
            />
            <button type="button" id="sale-qty-inc" class="qty-step-btn" aria-label="Increase quantity">+</button>
          </div>
        </div>

        <!-- ENHANCED TOTAL PAYABLE DESIGN -->
        <div class="total-summary-box">
          <div class="total-header">
            <i class="bx bx-receipt"></i>
            <span>TOTAL PAYABLE</span>
          </div>
          <div class="total-amount-wrap">
            <span id="sale-total-display">0.00</span>
          </div>
          <div class="total-glitch-line"></div>
        </div>

        <button
          type="submit"
          class="btn-terminal-commit"
          id="sale-submit-btn"
          disabled
        >
          AUTHORIZE TRANSACTION
        </button>
      </form>
    </div>
  </div>
</div>
